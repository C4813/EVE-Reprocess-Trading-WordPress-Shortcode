/* ===== EVE Reprocess Unified Style ===== */

:root {
  --primary-bg: #fff;
  --primary-border: #ccc;
  --highlight-bg: #f2f2f2;
  --result-bg: #f7f7fa;
  --primary-radius: 8px;
  --primary-font: inherit;
  --input-width: 220px;
  --input-height: 42px;
  --select-arrow: url("data:image/svg+xml;utf8,<svg fill='gray' height='18' viewBox='0 0 20 20' width='18' xmlns='http://www.w3.org/2000/svg'><path d='M5.5 8.5l4.5 4.5 4.5-4.5' stroke='gray' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' fill='none'/></svg>");
}

/* ROOT WRAPPER */
.eve-reprocess-wrapper {
  max-width: 900px;
  margin: 0 auto;
  font-family: var(--primary-font);
  text-align: center;
  padding: 16px 0 32px 0;
}

/* FLEX LAYOUT FOR SKILL/STANDING FIELDS */
.eve-skills-columns {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  gap: 0;
}
.eve-col {
  flex: 1 1 0;
  max-width: 50%;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.eve-border-right {
  border-right: 2px solid var(--primary-border);
  padding-right: 20px;
}

/* LABELS & FIELDS */
label {
  font-weight: bold;
  margin: 12px 0 4px 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  width: 100%;
  gap: 5px;
}

/* UNIFORM USER INPUTS */
.eve-input,
select.eve-input,
input[type="number"].eve-input {
  width: var(--input-width);
  max-width: 100%;
  height: var(--input-height);
  font-size: 16px;
  border: 1px solid var(--primary-border);
  border-radius: var(--primary-radius);
  text-align: center;
  margin-top: 7px;
  box-sizing: border-box;
  background: var(--primary-bg);
  outline: none;
  transition: border-color 0.2s;
}

/* SELECT DROPDOWN ARROW */
select.eve-input {
  background-image: var(--select-arrow);
  background-repeat: no-repeat;
  background-position: right 14px center;
  background-size: 22px 22px;
  appearance: none;
  padding-right: 38px;
  cursor: pointer;
}

/* BUTTONS */
button.eve-btn,
#market_action_buttons button,
#generate_btn,
#generate_prices_btn,
#copy_market_quickbar_btn {
  font-size: 18px;
  font-weight: bold;
  padding: 12px 30px;
  border: none;
  border-radius: var(--primary-radius);
  background-color: #444;
  color: #fff;
  cursor: pointer;
  margin: 18px auto 0 auto;
  box-shadow: 0 2px 8px rgba(60,60,60,0.04);
  transition: background 0.2s, transform 0.12s, min-width 0.2s;
  outline: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 180px;
  max-width: 90vw;
  width: auto;
  white-space: normal;   /* Allow line wrap for extra long text */
}

/* Button animation */
button.eve-btn:active { transform: scale(0.96);}
button.eve-btn:hover { background: #222;}
button.eve-btn:disabled {background: #888; cursor: not-allowed;}

/* For bulletproof centering */
#market_action_buttons {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  margin-top: 18px;
  width: auto !important;
}

/* Spinner for loading state */
.spinner {
  display: inline-block;
  width: 16px;
  height: 16px;
  border: 3px solid #fff;
  border-top: 3px solid #888;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
  vertical-align: middle;
  margin-right: 6px;
}
@keyframes spin {to { transform: rotate(360deg);}}

/* FIELD WRAPPERS FOR FILTERS AND BUTTONS */
#after_generate_controls, 
#market_group_filter, 
#exclude_t1_wrapper, 
#t2_toggle_wrapper,
#min_daily_volume_wrapper, 
#stack_size_wrapper,
#margin_fields_wrapper, 
#market_action_buttons,
#secondary_trade_hub_wrapper,
#sell_to_wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 12px auto 0 auto;
  width: 100%;
}

/* SPACING BETWEEN INDIVIDUAL FILTER GROUPS */
#after_generate_controls > div,
#market_group_filter,
#exclude_t1_wrapper,
#t2_toggle_wrapper {
  margin-bottom: 10px;
}

/* FIX: LABELS STACK FIELD BELOW HEADING */
#after_generate_controls label,
#market_group_filter label,
#exclude_t1_wrapper label,
#t2_toggle_wrapper label,
#min_daily_volume_wrapper label,
#stack_size_wrapper label,
#margin_fields_wrapper label,
.eve-skills-columns label {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  gap: 5px;
  width: 100%;
  text-align: center;
  margin: 0;
}

/* TABLES */
.eve-reprocess-table {
  margin: 30px auto 0;
  border-collapse: collapse;
  width: 100%;
}
.eve-reprocess-table th,
.eve-reprocess-table td {
  border: 1px solid var(--primary-border);
  padding: 8px;
  text-align: center;
  vertical-align: middle;
}
.eve-reprocess-table th {
  font-weight: bold;
}

/* RESULTS BOX */
.eve-result-box {
  background: var(--result-bg);
  padding: 10px 20px;
  border-radius: 10px;
  font-size: 14px;
  display: inline-block;
  text-align: center;
  max-width: 280px;
  margin-top: 10px;
  box-shadow: 0 1px 4px rgba(60,60,60,0.07);
}

.output {
  width: var(--input-width);
  min-height: var(--input-height);
  background-color: var(--highlight-bg);
  padding: 6px 12px;
  border-radius: var(--primary-radius);
  margin: 6px auto;
  font-size: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* RESPONSIVE DESIGN */
@media (max-width: 700px) {
  .eve-skills-columns { flex-direction: column; align-items: center; }
  .eve-border-right {border-right: none; padding-right: 0;}
  .eve-col {max-width: 100%; width: 100%;}
  .eve-result-box, .output, .eve-input, select.eve-input { max-width: 98vw; width: 98vw; }
  .eve-reprocess-table {font-size: 13px;}
}

@media (max-width: 520px) {
  .eve-input, select.eve-input, input[type="number"].eve-input {width: 98vw; min-width: 0;}
  .eve-result-box {max-width: 99vw;}
  .output {width: 99vw;}
}

/* GENERAL LIST STYLING */
#market_group_results_wrapper {
  display: none;
  margin-top: 20px;
  max-width: 900px;
  margin-left: auto;
  margin-right: auto;
  text-align: left;
}
#market_group_results {
  list-style-type: disc;
  margin: 10px auto;
  padding-left: 20px;
  max-width: 900px;
  font-size: 14px;
}
#market_group_results li { margin: 4px 0; }
#material_list_flat { display: none; }

/* VISUAL CONSISTENCY FOR FILTERS */
#after_generate_controls > div:not(:last-child) { margin-bottom: 12px; }
#market_action_buttons { margin-top: 18px; gap: 12px; }

/* NO RESULTS */
#no_results_message {
  color: #c00;
  font-weight: bold;
  margin-top: 20px;
  text-align: center;
}

#buy_qty_percentage_wrapper label,
#buy_qty_percentage_wrapper input,
#buy_qty_percentage_wrapper span {
  vertical-align: middle;
}
#buy_qty_percentage_wrapper input.eve-input {
  margin-right: 0.2em;
}

/* ===== END EVE Reprocess Style ===== */
